{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/components/Navbar.tsx"],"sourcesContent":["import { useEffect, useState, useCallback, useRef, useMemo, useLayoutEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/router\";\r\nimport { Home, Building2, BookOpen, Info, Phone, Menu, X, ChevronUp } from \"lucide-react\";\r\nimport { motion, AnimatePresence, useScroll, useTransform } from \"framer-motion\";\r\n\r\n// Constants\r\nconst SCROLL_THRESHOLD = 20;\r\nconst MOBILE_BREAKPOINT = 768;\r\nconst READING_SPEED_WPM = 200;\r\nconst SCROLL_UPDATE_THROTTLE = 100; // ms\r\n\r\n// Types\r\ninterface NavItem {\r\n  label: string;\r\n  to: string;\r\n  icon: React.ComponentType<{ className?: string }>;\r\n  ariaLabel: string;\r\n  sectionId?: string;\r\n}\r\n\r\n// Navigation Data\r\nconst NAV_LINKS: NavItem[] = [\r\n  { label: \"Home\", to: \"/\", icon: Home, ariaLabel: \"Go to homepage\" },\r\n  { label: \"Properties\", to: \"/properties\", icon: Building2, ariaLabel: \"Browse properties\", sectionId: \"featured-properties\" },\r\n  { label: \"Blog\", to: \"/blogs\", icon: BookOpen, ariaLabel: \"Read our blog\", sectionId: \"latest-posts\" },\r\n  { label: \"About\", to: \"/about\", icon: Info, ariaLabel: \"Learn about us\", sectionId: \"our-story\" },\r\n  { label: \"Contact\", to: \"/contact\", icon: Phone, ariaLabel: \"Contact us\", sectionId: \"contact-form\" },\r\n];\r\n\r\n// Custom Hooks\r\nconst useScrollDetection = (threshold: number) => {\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const rAF = useRef<number | null>(null);\r\n  const lastScrollY = useRef(0);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    const onFrame = () => {\r\n      if (!mounted) return;\r\n      setIsScrolled(lastScrollY.current > threshold);\r\n      rAF.current = null;\r\n    };\r\n\r\n    const handleScroll = () => {\r\n      lastScrollY.current = window.scrollY;\r\n      if (rAF.current == null) {\r\n        rAF.current = window.requestAnimationFrame(onFrame);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\r\n    // seed initial state\r\n    lastScrollY.current = window.scrollY;\r\n    setIsScrolled(window.scrollY > threshold);\r\n\r\n    return () => {\r\n      mounted = false;\r\n      window.removeEventListener(\"scroll\", handleScroll);\r\n      if (rAF.current != null) window.cancelAnimationFrame(rAF.current);\r\n    };\r\n  }, [threshold]);\r\n\r\n  return isScrolled;\r\n};\r\n\r\nconst useBreakpoint = (breakpoint: number) => {\r\n  const [isBelowBreakpoint, setIsBelowBreakpoint] = useState(() => \r\n    typeof window !== 'undefined' ? window.innerWidth < breakpoint : false\r\n  );\r\n\r\n  useEffect(() => {\r\n    const checkBreakpoint = () => {\r\n      setIsBelowBreakpoint(window.innerWidth < breakpoint);\r\n    };\r\n\r\n    checkBreakpoint();\r\n    \r\n    let timeoutId: NodeJS.Timeout;\r\n    const handleResize = () => {\r\n      clearTimeout(timeoutId);\r\n      timeoutId = setTimeout(checkBreakpoint, 150);\r\n    };\r\n\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n      clearTimeout(timeoutId);\r\n    };\r\n  }, [breakpoint]);\r\n\r\n  return isBelowBreakpoint;\r\n};\r\n\r\nconst useBodyScrollLock = (isLocked: boolean) => {\r\n  const lockRef = useRef<{ top: string; position: string; overflow: string; width: string; height: string } | null>(null);\r\n  const scrollYRef = useRef(0);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    if (isLocked) {\r\n      scrollYRef.current = window.scrollY;\r\n      const bodyStyle = document.body.style;\r\n      const computed = window.getComputedStyle(document.body);\r\n      lockRef.current = {\r\n        top: bodyStyle.top || '',\r\n        position: bodyStyle.position || '',\r\n        overflow: bodyStyle.overflow || computed.overflow || '',\r\n        width: bodyStyle.width || '',\r\n        height: bodyStyle.height || ''\r\n      };\r\n\r\n      bodyStyle.overflow = 'hidden';\r\n      bodyStyle.position = 'fixed';\r\n      bodyStyle.top = `-${scrollYRef.current}px`;\r\n      bodyStyle.width = '100%';\r\n      bodyStyle.height = '100vh';\r\n\r\n      // hide main content from assistive tech while modal is open\r\n      const main = document.querySelector('main') as HTMLElement | null;\r\n      if (main) main.setAttribute('aria-hidden', 'true');\r\n\r\n      return () => {\r\n        const prev = lockRef.current;\r\n        if (prev) {\r\n          bodyStyle.overflow = prev.overflow;\r\n          bodyStyle.position = prev.position;\r\n          bodyStyle.top = prev.top;\r\n          bodyStyle.width = prev.width;\r\n          bodyStyle.height = prev.height;\r\n        }\r\n        if (main) main.removeAttribute('aria-hidden');\r\n        window.scrollTo(0, scrollYRef.current);\r\n        lockRef.current = null;\r\n      };\r\n    }\r\n    return;\r\n  }, [isLocked]);\r\n};\r\n\r\nconst useEscapeKey = (callback: () => void, isActive: boolean) => {\r\n  useEffect(() => {\r\n    if (!isActive) return;\r\n\r\n    const handleEscape = (e: KeyboardEvent) => {\r\n      if (e.key === \"Escape\" || e.key === \"Esc\") callback();\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", handleEscape);\r\n    return () => document.removeEventListener(\"keydown\", handleEscape);\r\n  }, [callback, isActive]);\r\n};\r\n\r\nconst useScrollProgress = () => {\r\n  const { scrollYProgress } = useScroll();\r\n  const [estimatedReadingTime, setEstimatedReadingTime] = useState<number>(0);\r\n  const [scrollProgress, setScrollProgress] = useState<number>(0); // FLOAT 0-100\r\n  \r\n  const progressPercentage = useTransform(scrollYProgress, [0, 1], [0, 100]);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = progressPercentage.on(\"change\", (latest) => {\r\n      // keep float precision for animations; round only for UI text\r\n      setScrollProgress(latest);\r\n    });\r\n    return () => unsubscribe();\r\n  }, [progressPercentage]);\r\n\r\n  useEffect(() => {\r\n    const calculateReadingTime = () => {\r\n      const article = document.querySelector(\"article, main, .content, .prose\");\r\n      if (article) {\r\n        const text = article.textContent || \"\";\r\n        const wordCount = text.trim().split(/\\s+/).filter(word => word.length > 0).length;\r\n        const time = Math.max(1, Math.ceil(wordCount / READING_SPEED_WPM));\r\n        setEstimatedReadingTime(time);\r\n      } else {\r\n        setEstimatedReadingTime(0);\r\n      }\r\n    };\r\n\r\n    const observer = new MutationObserver(calculateReadingTime);\r\n    observer.observe(document.body, { \r\n      childList: true, \r\n      subtree: true,\r\n      characterData: true \r\n    });\r\n\r\n    const timeoutId = setTimeout(calculateReadingTime, 1000);\r\n    \r\n    return () => {\r\n      clearTimeout(timeoutId);\r\n      observer.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return { scrollProgress, progressRounded: Math.round(scrollProgress), estimatedReadingTime, scrollYProgress };\r\n};\r\n\r\nconst useThrottle = (value: number, limit: number) => {\r\n  const [throttledValue, setThrottledValue] = useState(value);\r\n  const lastRan = useRef(Date.now());\r\n\r\n  useEffect(() => {\r\n    const handler = setTimeout(() => {\r\n      if (Date.now() - lastRan.current >= limit) {\r\n        setThrottledValue(value);\r\n        lastRan.current = Date.now();\r\n      }\r\n    }, limit - (Date.now() - lastRan.current));\r\n\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value, limit]);\r\n\r\n  return throttledValue;\r\n};\r\n\r\n// Components\r\ninterface DesktopNavProps {\r\n  isActive: (to: string) => boolean;\r\n}\r\n\r\nconst DesktopNav = ({ isActive }: DesktopNavProps) => {\r\n\r\n  return (\r\n    <nav \r\n      className=\"hidden md:block\" \r\n      aria-label=\"Main desktop navigation\"\r\n      role=\"navigation\"\r\n    >\r\n      <div className=\"relative\">\r\n        <div className=\"relative flex items-center justify-center gap-1 bg-background/70 backdrop-blur-sm rounded-lg px-2 py-1 shadow-sm ring-1 ring-border/30\">\r\n          <ul className=\"relative flex items-center list-none m-0 p-0\">\r\n            {NAV_LINKS.map(({ label, to, ariaLabel, sectionId }, index) => {\r\n              const isLinkActive = isActive(to);\r\n              const isLastItem = index === NAV_LINKS.length - 1;\r\n              \r\n              return (\r\n                <motion.li\r\n                  key={`desktop-nav-${to}-${index}`}\r\n                  className=\"relative m-0 p-0\"\r\n                  initial={false}\r\n                  whileHover={{ y: -2 }}\r\n                  whileTap={{ y: 0 }}\r\n                  transition={{ duration: 0.2 }}\r\n                >\r\n                  <Link\r\n                    href={to}\r\n                    aria-label={ariaLabel || `Navigate to ${label}`}\r\n                    className={`\r\n                      relative z-10 block px-5 py-2 text-sm font-medium \r\n                      transition-all duration-200 rounded-lg\r\n                      focus-visible:outline-none focus-visible:ring-2 \r\n                      focus-visible:ring-primary/50 focus-visible:ring-offset-2 \r\n                      focus-visible:ring-offset-background\r\n                      focus-visible:z-20\r\n                      select-none\r\n                      ${isLinkActive ? 'text-primary font-semibold' : 'text-muted-foreground hover:text-primary hover:bg-primary/5 active:bg-primary/10'}\r\n                    `}\r\n                    onClick={(e) => {\r\n                      if (sectionId && router.pathname === to) {\r\n                        e.preventDefault();\r\n                        const element = document.getElementById(sectionId);\r\n                        if (element) {\r\n                          const headerOffset = 100;\r\n                          const elementPosition = element.getBoundingClientRect().top;\r\n                          const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\r\n                          window.scrollTo({ top: offsetPosition, behavior: 'smooth' });\r\n                          const newUrl = `${to}#${sectionId}`;\r\n                          if (window.location.href !== newUrl) {\r\n                            window.history.pushState(null, '', newUrl);\r\n                          }\r\n                        }\r\n                      }\r\n                    }}\r\n                  >\r\n                    {isLinkActive && (\r\n                      <motion.div\r\n                        layoutId=\"desktop-nav-background\"\r\n                        className=\"absolute inset-0 bg-gradient-to-r from-primary/10 via-primary/15 to-primary/10 rounded-2xl border border-primary/20\"\r\n                        transition={{ \r\n                          type: \"spring\", \r\n                          stiffness: 300, \r\n                          damping: 25 \r\n                        }}\r\n                        aria-hidden=\"true\"\r\n                      />\r\n                    )}\r\n\r\n                    <span className=\"relative z-10 whitespace-nowrap\">\r\n                      {label}\r\n                    </span>\r\n\r\n                    {isLinkActive && (\r\n                      <motion.div\r\n                        layoutId=\"desktop-nav-underline\"\r\n                        className=\"absolute bottom-2 left-4 right-4 h-[3px] rounded-full bg-gradient-to-r from-primary via-primary/80 to-primary\"\r\n                        transition={{\r\n                          type: \"spring\",\r\n                          stiffness: 380,\r\n                          damping: 28,\r\n                          mass: 0.8\r\n                        }}\r\n                        aria-hidden=\"true\"\r\n                      />\r\n                    )}\r\n                  </Link>\r\n\r\n                  {!isLastItem && (\r\n                    <div \r\n                      className=\"absolute top-1/2 right-0 w-px h-4 -translate-y-1/2 \r\n                               bg-gradient-to-b from-transparent via-border/30 to-transparent\"\r\n                      aria-hidden=\"true\"\r\n                    />\r\n                  )}\r\n                </motion.li>\r\n              );\r\n            })}\r\n          </ul>\r\n          \r\n          {/* Removed the container-wide active indicator to avoid duplicate/misaligned\r\n              underlines. Each active link already renders its own underline inside\r\n              the NavLink, which aligns to the link width. */}\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\ninterface ScrollIndicatorProps {\r\n  progress: number;\r\n  readingTime: number;\r\n}\r\n\r\nconst ScrollIndicator = ({ progress, readingTime }: ScrollIndicatorProps) => {\r\n  const [showTooltip, setShowTooltip] = useState(false);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  // derive visibility from the single source of truth (progress)\r\n  const isClient = typeof window !== 'undefined';\r\n  const pageTallEnough = isClient ? document.documentElement.scrollHeight > window.innerHeight * 1.2 : false;\r\n  const safeProgress = Math.max(0, Math.min(100, Number(progress || 0)));\r\n  const R = 20;\r\n  const C = 2 * Math.PI * R; // circumference\r\n  const dashOffset = C * (1 - safeProgress / 100);\r\n  const isVisible = pageTallEnough && safeProgress > 3 && safeProgress < 99;\r\n\r\n  const handleBackToTop = useCallback(() => {\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  }, []);\r\n\r\n  const remainingTime = useMemo(() => {\r\n    if (!readingTime || readingTime <= 0) return null;\r\n    \r\n    const totalSeconds = readingTime * 60;\r\n    const remainingSeconds = totalSeconds * ((100 - progress) / 100);\r\n    const minutes = Math.floor(remainingSeconds / 60);\r\n    const seconds = Math.floor(remainingSeconds % 60);\r\n    \r\n    if (minutes > 0) {\r\n      return `${minutes}m ${seconds}s`;\r\n    }\r\n    return `${seconds}s`;\r\n  }, [progress, readingTime]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (containerRef.current && !containerRef.current.contains(event.target as Node)) {\r\n        setShowTooltip(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <motion.div\r\n      ref={containerRef}\r\n      initial={{ opacity: 0, scale: 0.9, x: 20 }}\r\n      animate={{ \r\n        opacity: isVisible ? 1 : 0,\r\n        scale: isVisible ? 1 : 0.9,\r\n        x: isVisible ? 0 : 20\r\n      }}\r\n      transition={{ duration: 0.3, ease: \"easeOut\" }}\r\n      className=\"fixed right-4 top-1/2 -translate-y-1/2 z-40 hidden lg:flex flex-col items-center gap-3\"\r\n      role=\"progressbar\"\r\n      aria-valuenow={Math.round(safeProgress)}\r\n      aria-valuemin={0}\r\n      aria-valuemax={100}\r\n      aria-label={`Scroll progress`}\r\n      aria-valuetext={\r\n        readingTime && readingTime > 0\r\n          ? `${Math.round(safeProgress)}% â€” ${remainingTime ?? ''} remaining`\r\n          : `${Math.round(safeProgress)}%`\r\n      }\r\n    >\r\n      <div \r\n        className=\"relative w-12 h-12 cursor-pointer group\"\r\n        onClick={handleBackToTop}\r\n        onMouseEnter={() => setShowTooltip(true)}\r\n        onFocus={() => setShowTooltip(true)}\r\n        onBlur={() => setShowTooltip(false)}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n        aria-label={`Back to top. Scroll progress: ${progress}%`}\r\n        onKeyDown={(e) => {\r\n          if (e.key === 'Enter' || e.key === ' ') {\r\n            e.preventDefault();\r\n            handleBackToTop();\r\n          }\r\n        }}\r\n      >\r\n        <div className=\"absolute inset-0 rounded-full bg-background/80 backdrop-blur-sm border border-border/50 shadow-lg\" />\r\n        \r\n        <svg className=\"w-12 h-12 transform -rotate-90\" viewBox=\"0 0 48 48\" aria-hidden=\"true\">\r\n          <circle\r\n            cx=\"24\"\r\n            cy=\"24\"\r\n            r=\"20\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            className=\"text-border\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n          />\r\n          <motion.circle\r\n            cx=\"24\"\r\n            cy=\"24\"\r\n            r={R}\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            className=\"text-primary\"\r\n            strokeWidth=\"2\"\r\n            strokeLinecap=\"round\"\r\n            strokeDasharray={String(C)}\r\n            strokeDashoffset={dashOffset}\r\n            initial={false}\r\n            transition={{ duration: 0.25 }}\r\n          />\r\n        </svg>\r\n        \r\n          <div className=\"absolute inset-0 flex items-center justify-center\">\r\n            <span className=\"text-xs font-semibold text-foreground\">\r\n              {Math.round(safeProgress)}%\r\n            </span>\r\n          </div>\r\n        \r\n        <AnimatePresence>\r\n          {showTooltip && (\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 10 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              exit={{ opacity: 0, x: 10 }}\r\n              className=\"absolute right-full top-1/2 -translate-y-1/2 mr-3 whitespace-nowrap pointer-events-none\"\r\n            >\r\n              <div className=\"relative bg-background border border-border rounded-lg px-3 py-2 shadow-lg\">\r\n                <div className=\"text-sm font-medium text-foreground\">\r\n                  {Math.round(safeProgress)}% scrolled\r\n                </div>\r\n                {remainingTime && (\r\n                  <>\r\n                    <div className=\"h-px bg-border my-1\" />\r\n                    <div className=\"text-xs text-muted-foreground\">\r\n                      ~{remainingTime} remaining\r\n                    </div>\r\n                  </>\r\n                )}\r\n                <div className=\"absolute top-1/2 -right-2 -translate-y-1/2 w-0 h-0 border-t-4 border-b-4 border-l-4 border-t-transparent border-b-transparent border-l-background\" />\r\n              </div>\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n      </div>\r\n\r\n      {progress < 10 && (\r\n        <motion.div\r\n          animate={{ y: [0, 5, 0] }}\r\n          transition={{ repeat: Infinity, duration: 2 }}\r\n          className=\"text-muted-foreground\"\r\n          aria-hidden=\"true\"\r\n        >\r\n          <ChevronUp className=\"h-4 w-4 rotate-180\" />\r\n        </motion.div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\ninterface MobileScrollIndicatorProps {\r\n  progress: number;\r\n}\r\n\r\nconst MobileScrollIndicator = ({ progress }: MobileScrollIndicatorProps) => {\r\n  // derive visibility directly from progress to avoid competing listeners\r\n  const showProgress = progress > 5 && progress < 95;\r\n\r\n  const handleProgressClick = () => {\r\n    const sections = document.querySelectorAll(\"section[id], article, main, [class*='content']\");\r\n    let targetSection = null;\r\n    \r\n    for (const section of sections) {\r\n      const rect = section.getBoundingClientRect();\r\n      if (rect.top <= window.innerHeight * 0.3 && rect.bottom >= window.innerHeight * 0.3) {\r\n        targetSection = section;\r\n        break;\r\n      }\r\n    }\r\n    \r\n    if (targetSection) {\r\n      const nextSection = targetSection.nextElementSibling;\r\n      if (nextSection && nextSection instanceof HTMLElement) {\r\n        const headerOffset = 80;\r\n        const elementPosition = nextSection.getBoundingClientRect().top;\r\n        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;\r\n        \r\n        window.scrollTo({\r\n          top: offsetPosition,\r\n          behavior: \"smooth\"\r\n        });\r\n      }\r\n    } else {\r\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n    }\r\n  };\r\n\r\n  const throttledProgress = progress; // use smooth RAF-driven progress directly\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ y: 100 }}\r\n      animate={{ y: showProgress ? 0 : 100 }}\r\n      transition={{ type: \"spring\", stiffness: 200, damping: 25 }}\r\n      className=\"fixed bottom-20 left-4 right-4 z-30 md:hidden\"\r\n      role=\"progressbar\"\r\n      aria-valuenow={Math.round(throttledProgress)}\r\n      aria-valuemin={0}\r\n      aria-valuemax={100}\r\n      aria-label={`Scroll progress: ${throttledProgress}%`}\r\n    >\r\n      <div \r\n        className=\"relative h-3 bg-background/80 backdrop-blur-sm rounded-full border border-border/50 shadow-lg overflow-hidden cursor-pointer active:scale-95 transition-transform\"\r\n        onClick={handleProgressClick}\r\n        role=\"button\"\r\n        tabIndex={0}\r\n        aria-label={`Jump to next section. Progress: ${throttledProgress}%`}\r\n        onKeyDown={(e) => {\r\n          if (e.key === 'Enter' || e.key === ' ') {\r\n            e.preventDefault();\r\n            handleProgressClick();\r\n          }\r\n        }}\r\n      >\r\n        <div className=\"absolute inset-0 bg-muted/30\" />\r\n        \r\n        <motion.div\r\n          className=\"absolute inset-y-0 left-0 bg-gradient-to-r from-primary via-primary/80 to-primary\"\r\n          style={{ width: `${throttledProgress}%` }}\r\n          initial={false}\r\n          transition={{ duration: 0.2 }}\r\n        />\r\n        \r\n        <div className=\"absolute inset-0 flex items-center justify-center\">\r\n          <span className=\"text-[10px] font-semibold text-primary-foreground mix-blend-difference select-none\">\r\n            {Math.round(throttledProgress)}%\r\n          </span>\r\n        </div>\r\n        \r\n        <div className=\"absolute inset-y-0 left-0 right-0 flex justify-between px-2\">\r\n          {[0, 25, 50, 75, 100].map((marker) => (\r\n            <div\r\n              key={marker}\r\n              className=\"w-px h-full bg-border/50\"\r\n              style={{ \r\n                marginLeft: `calc(${marker}% - 1px)`,\r\n                transform: marker === 50 ? 'scaleY(1.5)' : 'scaleY(1)'\r\n              }}\r\n              aria-hidden=\"true\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\ninterface MobileMenuProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  isActive: (to: string) => boolean;\r\n  scrollProgress: number;\r\n}\r\n\r\nconst MobileMenu = ({ isOpen, onClose, isActive, scrollProgress }: MobileMenuProps) => {\r\n  const location = useLocation();\r\n  const menuRef = useRef<HTMLElement | null>(null);\r\n  \r\n  useEffect(() => {\r\n    onClose();\r\n  }, [location.pathname, onClose]);\r\n\r\n  useBodyScrollLock(isOpen);\r\n  useEscapeKey(onClose, isOpen);\r\n\r\n  const firstLinkRef = useRef<HTMLAnchorElement>(null);\r\n\r\n  useEffect(() => {\r\n    if (isOpen && firstLinkRef.current) {\r\n      setTimeout(() => {\r\n        firstLinkRef.current?.focus();\r\n      }, 100);\r\n    }\r\n  }, [isOpen]);\r\n\r\n  // Focus trap: keep focus inside the mobile menu while it's open\r\n  useEffect(() => {\r\n    if (!isOpen || !menuRef.current) return;\r\n\r\n    const el = menuRef.current;\r\n    const selector = 'a[href], button, input, textarea, select, [tabindex]:not([tabindex=\"-1\"])';\r\n    const focusable = Array.from(el.querySelectorAll<HTMLElement>(selector)).filter(f => !f.hasAttribute('disabled'));\r\n    if (focusable.length === 0) return;\r\n\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key !== 'Tab') return;\r\n      const first = focusable[0];\r\n      const last = focusable[focusable.length - 1];\r\n      if (e.shiftKey) {\r\n        if (document.activeElement === first) {\r\n          e.preventDefault();\r\n          last.focus();\r\n        }\r\n      } else {\r\n        if (document.activeElement === last) {\r\n          e.preventDefault();\r\n          first.focus();\r\n        }\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleKeyDown);\r\n    return () => document.removeEventListener('keydown', handleKeyDown);\r\n  }, [isOpen]);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isOpen && (\r\n        <>\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            onClick={onClose}\r\n            className=\"fixed inset-0 bg-background/90 backdrop-blur-xl z-40 md:hidden\"\r\n            aria-hidden=\"true\"\r\n          />\r\n\r\n          <motion.div\r\n            initial={{ opacity: 0, x: \"100%\" }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            exit={{ opacity: 0, x: \"100%\" }}\r\n            transition={{ type: \"spring\", damping: 25, stiffness: 200 }}\r\n            ref={(node) => { menuRef.current = node as unknown as HTMLElement; }}\r\n            className=\"md:hidden fixed top-0 right-0 bottom-0 w-80 max-w-full z-50 flex flex-col bg-card border-l shadow-2xl\"\r\n            role=\"dialog\"\r\n            aria-modal=\"true\"\r\n            aria-label=\"Mobile navigation menu\"\r\n          >\r\n            <div className=\"flex items-center justify-between p-6 border-b\">\r\n              <div>\r\n                <h2 className=\"text-xl font-bold\">Navigation</h2>\r\n                <div className=\"text-sm text-muted-foreground mt-1\">\r\n                  Scroll progress: {scrollProgress}%\r\n                </div>\r\n              </div>\r\n              <button\r\n                onClick={onClose}\r\n                aria-label=\"Close menu\"\r\n                className=\"p-2 rounded-lg hover:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring transition-colors\"\r\n              >\r\n                <X className=\"h-6 w-6\" />\r\n              </button>\r\n            </div>\r\n\r\n            <nav className=\"flex-1 p-4 space-y-1 overflow-y-auto\">\r\n              {NAV_LINKS.map(({ label, to, icon: Icon, ariaLabel }, index) => {\r\n                const active = isActive(to);\r\n                return (\r\n                  <NavLink\r\n                    ref={index === 0 ? firstLinkRef : undefined}\r\n                    key={`mobile-${to}-${index}`}\r\n                    to={to}\r\n                    aria-label={ariaLabel}\r\n                    aria-current={active ? \"page\" : undefined}\r\n                    className={({ isActive }) =>\r\n                      `flex items-center gap-3 rounded-lg px-4 py-4 text-base font-medium transition-all\r\n                       focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\r\n                       ${isActive\r\n                         ? \"bg-primary/10 text-primary shadow-sm\"\r\n                         : \"hover:bg-muted hover:translate-x-1\"\r\n                       }`\r\n                    }\r\n                    onClick={onClose}\r\n                  >\r\n                    <Icon className=\"h-5 w-5 flex-shrink-0\" />\r\n                    <span className=\"flex-1\">{label}</span>\r\n                    {active && (\r\n                      <motion.div\r\n                        layoutId=\"mobile-active\"\r\n                        className=\"h-2 w-2 rounded-full bg-primary flex-shrink-0\"\r\n                        aria-hidden=\"true\"\r\n                      />\r\n                    )}\r\n                  </NavLink>\r\n                );\r\n              })}\r\n            </nav>\r\n            \r\n            <div className=\"p-4 border-t\">\r\n              <div className=\"text-xs text-muted-foreground mb-2\">Current scroll</div>\r\n              <div className=\"h-1.5 bg-muted rounded-full overflow-hidden\">\r\n                <motion.div\r\n                  className=\"h-full bg-primary\"\r\n                  initial={false}\r\n                  style={{ width: `${scrollProgress}%` }}\r\n                  transition={{ duration: 0.3 }}\r\n                />\r\n              </div>\r\n            </div>\r\n          </motion.div>\r\n        </>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n};\r\n\r\ninterface BottomNavProps {\r\n  isActive: (to: string) => boolean;\r\n  scrollProgress: number;\r\n}\r\n\r\nconst BottomNav = ({ isActive, scrollProgress }: BottomNavProps) => {\r\n  // derive visibility purely from central progress\r\n  const showMiniProgress = scrollProgress > 3;\r\n  const throttledProgress = scrollProgress; // keep float from RAF-driven source\r\n\r\n  return (\r\n    <nav\r\n      className=\"fixed bottom-0 left-0 right-0 z-40 md:hidden\"\r\n      aria-label=\"Bottom navigation\"\r\n    >\r\n      <div className=\"container mx-auto px-4 pb-4\">\r\n        <motion.div\r\n          initial={{ y: 100 }}\r\n          animate={{ y: 0 }}\r\n          transition={{ type: \"spring\", stiffness: 200, damping: 25 }}\r\n          className=\"mx-auto max-w-md rounded-2xl bg-background/95 backdrop-blur-xl border shadow-xl overflow-hidden\"\r\n        >\r\n              {showMiniProgress && (\r\n            <motion.div\r\n              initial={{ height: 0, opacity: 0 }}\r\n              animate={{ height: 3, opacity: 1 }}\r\n              exit={{ height: 0, opacity: 0 }}\r\n              className=\"rounded-t-2xl overflow-hidden\"\r\n              role=\"progressbar\"\r\n              aria-valuenow={throttledProgress}\r\n            >\r\n              <div \r\n                className=\"h-full bg-gradient-to-r from-primary via-primary/80 to-primary transition-all duration-200\"\r\n                style={{ width: `${throttledProgress}%` }} \r\n              />\r\n            </motion.div>\r\n          )}\r\n\r\n          <div className=\"flex justify-between items-center px-4 py-2\">\r\n            {NAV_LINKS.map(({ to, icon: Icon, ariaLabel }) => {\r\n              const active = isActive(to);\r\n              return (\r\n                <NavLink\r\n                  key={`bottom-${to}`}\r\n                  to={to}\r\n                  aria-label={ariaLabel}\r\n                  aria-current={active ? \"page\" : undefined}\r\n                  className=\"relative flex flex-col items-center p-2 rounded-lg focus-visible:outline-none \r\n                           focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\"\r\n                >\r\n                  <motion.div\r\n                    whileTap={{ scale: 0.9 }}\r\n                    className={`p-2 rounded-full transition-all duration-200 ${\r\n                      active\r\n                        ? \"bg-primary/15 text-primary shadow-sm\"\r\n                        : \"text-muted-foreground hover:text-primary hover:bg-muted/50\"\r\n                    }`}\r\n                  >\r\n                    <Icon className=\"h-5 w-5\" />\r\n                  </motion.div>\r\n\r\n                  {active && (\r\n                    <>\r\n                      <motion.span\r\n                        layoutId=\"bottom-indicator\"\r\n                        className=\"absolute -bottom-1 h-1 w-6 rounded-full bg-primary\"\r\n                        aria-hidden=\"true\"\r\n                      />\r\n                      {throttledProgress > 0 && throttledProgress < 100 && (\r\n                        <motion.div\r\n                          animate={{ scale: [1, 1.2, 1] }}\r\n                          transition={{ repeat: Infinity, duration: 2 }}\r\n                          className=\"absolute -top-1 -right-1 h-2 w-2 rounded-full bg-primary/80\"\r\n                          aria-hidden=\"true\"\r\n                        />\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </NavLink>\r\n              );\r\n            })}\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\n// Main Component\r\nexport default function Navbar() {\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const isMobile = useBreakpoint(MOBILE_BREAKPOINT);\r\n  const isScrolled = useScrollDetection(SCROLL_THRESHOLD);\r\n  const router = useRouter();\r\n  const { scrollProgress, estimatedReadingTime } = useScrollProgress();\r\n\r\n  const isActive = useCallback((to: string) => {\r\n    if (to === \"/\") return router.pathname === \"/\";\r\n    return router.pathname.startsWith(to);\r\n  }, [router.pathname]);\r\n\r\n  const toggleMenu = useCallback(() => {\r\n    setIsMenuOpen(prev => !prev);\r\n  }, []);\r\n\r\n  const closeMenu = useCallback(() => {\r\n    setIsMenuOpen(false);\r\n  }, []);\r\n\r\n  const navHeight = isScrolled ? \"h-16\" : \"h-20\";\r\n  const logoHeight = isScrolled\r\n    ? \"h-12 sm:h-14 md:h-16 lg:h-20\"\r\n    : \"h-16 sm:h-20 md:h-24 lg:h-28\";\r\n\r\n  useLayoutEffect(() => {\r\n    if (isMenuOpen) {\r\n      document.body.classList.add('overflow-hidden');\r\n    } else {\r\n      document.body.classList.remove('overflow-hidden');\r\n    }\r\n  }, [isMenuOpen]);\r\n\r\n  return (\r\n    <>\r\n      <motion.header\r\n        initial={{ y: -80 }}\r\n        animate={{ y: 0 }}\r\n        transition={{ duration: 0.6, ease: \"easeOut\" }}\r\n        className=\"fixed inset-x-0 top-0 z-50\"\r\n        role=\"banner\"\r\n      >\r\n        <motion.div\r\n          animate={{\r\n            backdropFilter: isScrolled ? \"blur(20px)\" : \"blur(10px)\",\r\n            backgroundColor: isScrolled \r\n              ? \"rgba(var(--background-rgb), 0.85)\" \r\n              : \"rgba(var(--background-rgb), 0.7)\",\r\n            boxShadow: isScrolled \r\n              ? \"0 10px 30px rgba(0,0,0,0.15), 0 0 0 1px rgba(var(--border-rgb), 0.1)\" \r\n              : \"0 4px 12px rgba(0,0,0,0.05)\",\r\n          }}\r\n          className={`relative border-b border-border/40 transition-all duration-300 ${navHeight}`}\r\n        >\r\n          <div className=\"container mx-auto px-4 sm:px-6 h-full\">\r\n            <div className=\"flex items-center justify-between h-full\">\r\n              <div className=\"flex-shrink-0\">\r\n                <Link\r\n                  to=\"/\"\r\n                  aria-label=\"Julin Real Estate - Home\"\r\n                  className=\"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring \r\n                           focus-visible:ring-offset-2 rounded-lg inline-block bg-transparent\"\r\n                >\r\n                  <motion.img\r\n                    src={`${process.env.NEXT_PUBLIC_BASE_PATH ?? '/'}logo.png`}\r\n                    alt=\"Julin Real Estate Logo\"\r\n                    className={`${logoHeight} w-auto object-contain transition-all duration-300`}\r\n                    width={160}\r\n                    height={64}\r\n                    whileHover={{ scale: 1.05 }}\r\n                    whileTap={{ scale: 0.95 }}\r\n                    loading=\"eager\"\r\n                    onError={(e) => {\r\n                      const target = e.target as HTMLImageElement;\r\n                      target.style.display = 'none';\r\n                      console.error('Failed to load logo image');\r\n                    }}\r\n                  />\r\n                </Link>\r\n              </div>\r\n\r\n              <DesktopNav isActive={isActive} />\r\n\r\n              <div className=\"md:hidden flex-shrink-0\">\r\n                <motion.button\r\n                  aria-label={isMenuOpen ? \"Close menu\" : \"Open menu\"}\r\n                  aria-expanded={isMenuOpen}\r\n                  aria-controls=\"mobile-menu\"\r\n                  onClick={toggleMenu}\r\n                  whileTap={{ scale: 0.95 }}\r\n                  className=\"h-10 w-10 rounded-full border bg-background/80 backdrop-blur \r\n                           flex items-center justify-center hover:bg-muted transition-colors\r\n                           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\r\n                           relative\"\r\n                >\r\n                  {isMenuOpen ? (\r\n                    <X className=\"h-5 w-5\" />\r\n                  ) : (\r\n                    <>\r\n                      <Menu className=\"h-5 w-5\" />\r\n                      {scrollProgress > 0 && (\r\n                        <motion.div\r\n                          initial={{ scale: 0 }}\r\n                          animate={{ scale: 1 }}\r\n                          className=\"absolute -top-1 -right-1 h-2 w-2 rounded-full bg-primary\"\r\n                          aria-hidden=\"true\"\r\n                        />\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </motion.button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </motion.header>\r\n\r\n      <ScrollIndicator \r\n        progress={scrollProgress} \r\n        readingTime={estimatedReadingTime} \r\n      />\r\n      \r\n      {isMobile && (\r\n        <MobileScrollIndicator progress={scrollProgress} />\r\n      )}\r\n\r\n      <MobileMenu \r\n        isOpen={isMenuOpen} \r\n        onClose={closeMenu} \r\n        isActive={isActive}\r\n        scrollProgress={scrollProgress}\r\n      />\r\n\r\n      {isMobile && (\r\n        <BottomNav \r\n          isActive={isActive} \r\n          scrollProgress={scrollProgress}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1393, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/public/assets/hero-property.jpg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1024, height: 1024, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwDnE1fTEt95mVjjGMd8f412f2rir7I4P7MwjXxO5//Z\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,yJAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAAi4B"}},
    {"offset": {"line": 1414, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/public/assets/images/kenya-real-estate-hero.jpg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 266, height: 190, blurWidth: 8, blurHeight: 6, blurDataURL: \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAGAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwCOXxlq7kql48K9gqhufxrkeIqLU1VGJ//Z\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,kLAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;IAAG,aAAa;AAAy3B"}},
    {"offset": {"line": 1432, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/hooks/use-media-query.ts"],"sourcesContent":["// hooks/use-media-query.ts\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport function useMediaQuery(query: string): boolean {\r\n  const [matches, setMatches] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const media = window.matchMedia(query);\r\n    if (media.matches !== matches) {\r\n      setMatches(media.matches);\r\n    }\r\n    const listener = () => setMatches(media.matches);\r\n    window.addEventListener('resize', listener);\r\n    return () => window.removeEventListener('resize', listener);\r\n  }, [matches, query]);\r\n\r\n  return matches;\r\n}"],"names":[],"mappings":";;;;AAAA,2BAA2B;AAC3B;;AAEO,SAAS,cAAc,KAAa;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,OAAO,UAAU,CAAC;QAChC,IAAI,MAAM,OAAO,KAAK,SAAS;YAC7B,WAAW,MAAM,OAAO;QAC1B;QACA,MAAM,WAAW,IAAM,WAAW,MAAM,OAAO;QAC/C,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG;QAAC;QAAS;KAAM;IAEnB,OAAO;AACT"}},
    {"offset": {"line": 1459, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/components/Hero.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { fetchWithTimeout } from '@/lib/utils';\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Search, MapPin, Home, DollarSign, Filter, ArrowRight, TrendingUp, ShieldCheck } from \"lucide-react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport heroImage from \"@/assets/hero-property.jpg\";\r\nimport kenyaHeroImage from \"@/assets/images/kenya-real-estate-hero.jpg\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useMediaQuery } from '@/hooks/use-media-query';\r\nimport type { Property } from '@/types/property';\r\n\r\n// Types\r\ninterface InputBlockProps {\r\n  icon: React.ElementType;\r\n  label: string;\r\n  children: React.ReactNode;\r\n  isActive?: boolean;\r\n}\r\n\r\n// Reusable input block for search form\r\nconst InputBlock = ({ icon: Icon, label, children, isActive = false }: InputBlockProps) => (\r\n  <motion.div \r\n    className={`\r\n      flex flex-col sm:flex-row items-start sm:items-center gap-3 p-4 \r\n      bg-white/10 backdrop-blur-sm rounded-xl w-full border-2 transition-all duration-300\r\n      hover:bg-white/15 hover:border-accent/50 hover:shadow-lg\r\n      ${isActive ? 'border-accent bg-white/15 shadow-lg' : 'border-transparent'}\r\n      dark:bg-gray-900/20 dark:hover:bg-gray-900/30\r\n    `}\r\n    whileHover={{ scale: 1.02 }}\r\n    whileTap={{ scale: 0.98 }}\r\n  >\r\n    <div className=\"flex items-center gap-3\">\r\n      <div className=\"p-2 bg-accent/10 rounded-lg\">\r\n        <Icon className=\"h-5 w-5 text-accent flex-shrink-0\" />\r\n      </div>\r\n      <div className=\"flex-1 min-w-0\">\r\n        <label className=\"text-xs font-medium text-primary-foreground/70 uppercase tracking-wider block mb-1\">\r\n          {label}\r\n        </label>\r\n        <div className=\"text-foreground font-medium\">\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </motion.div>\r\n);\r\n\r\nconst Hero = () => {\r\n  const [activeFilter, setActiveFilter] = useState<string>(\"\");\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [properties, setProperties] = useState<Property[]>([]);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  const [imageError, setImageError] = useState(false);\r\n  const [totalProperties, setTotalProperties] = useState(0);\r\n  const [typed, setTyped] = useState('');\r\n  const isMobile = useMediaQuery(\"(max-width: 640px)\");\r\n  \r\n  // Fallback images\r\n  const fallbackImages = [heroImage, kenyaHeroImage];\r\n  \r\n  // Get current background image with fallbacks\r\n  const getCurrentBackgroundImage = () => {\r\n    if (properties.length > 0 && !imageError) {\r\n      const property = properties[currentImageIndex % properties.length];\r\n      return property?.images?.[0] || property?.image_url || fallbackImages[0];\r\n    }\r\n    return fallbackImages[currentImageIndex % fallbackImages.length];\r\n  };\r\n\r\n  // Fetch properties for hero background rotation and stats\r\n  useEffect(() => {\r\n    const fetchHeroData = async () => {\r\n      try {\r\n        const SUPABASE_URL = import.meta.env.VITE_SUPABASE_URL;\r\n        const SUPABASE_PUBLISHABLE_KEY = import.meta.env.VITE_SUPABASE_PUBLISHABLE_KEY;\r\n        const response = await fetchWithTimeout(`${SUPABASE_URL}/functions/v1/get-properties`, {\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            apikey: SUPABASE_PUBLISHABLE_KEY,\r\n            Authorization: `Bearer ${SUPABASE_PUBLISHABLE_KEY}`,\r\n          }\r\n        }, 8000);\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          const props = Array.isArray(data) ? data : data?.properties || [];\r\n          \r\n          // Set total count for stats\r\n          setTotalProperties(props.length);\r\n          \r\n          // Filter to only properties with images for background rotation\r\n          const propertiesWithImages = props.filter(p => p.images?.length > 0 || p.image_url);\r\n          if (propertiesWithImages.length > 0) {\r\n            setProperties(propertiesWithImages);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.warn('Failed to fetch properties for hero:', error);\r\n        // Continue with fallback images\r\n      }\r\n    };\r\n\r\n    fetchHeroData();\r\n  }, []);\r\n\r\n  // Rotate background images\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      setCurrentImageIndex(prev => prev + 1);\r\n      setImageError(false);\r\n    }, 8000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [properties.length]);\r\n\r\n  // Typing effect for concise tagline\r\n  useEffect(() => {\r\n    const target = 'Discover verified properties across Kenya.';\r\n    let i = 0;\r\n    setTyped('');\r\n    const t = setInterval(() => {\r\n      i += 1;\r\n      setTyped(target.slice(0, i));\r\n      if (i >= target.length) clearInterval(t);\r\n    }, 28);\r\n    return () => clearInterval(t);\r\n  }, []);\r\n\r\n  const handleSearch = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    // Handle search logic\r\n  };\r\n\r\n  const scrollToSearch = () => {\r\n    document.getElementById(\"search-section\")?.scrollIntoView({ \r\n      behavior: \"smooth\",\r\n      block: \"center\"\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section\r\n      id=\"home\"\r\n      className=\"relative min-h-[70vh] md:min-h-screen flex items-center justify-center pt-16 md:pt-32 overflow-hidden\"\r\n      aria-label=\"Hero section\"\r\n    >\r\n      {/* Animated Background */}\r\n      <div className=\"absolute inset-0 z-0 overflow-hidden\">\r\n        <AnimatePresence mode=\"wait\">\r\n          <motion.img\r\n            key={currentImageIndex}\r\n            src={getCurrentBackgroundImage()}\r\n            alt=\"Real estate property in Kenya\"\r\n            className=\"w-full h-full object-cover object-center\"\r\n            style={{ filter: 'brightness(0.72) saturate(1.02)' }}\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 1.2, ease: 'easeOut' }}\r\n            loading=\"eager\"\r\n            fetchPriority=\"high\"\r\n            onError={() => setImageError(true)}\r\n          />\r\n        </AnimatePresence>\r\n        {/* Lighter overlay to keep images visible while ensuring text contrast */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-navy/40 via-navy/28 to-navy/20\" />\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-navy/10 via-transparent to-transparent opacity-30\" />\r\n        \r\n        {/* Animated Background Elements */}\r\n        <motion.div \r\n          className=\"absolute top-20 right-20 w-72 h-72 bg-accent/10 rounded-full blur-3xl\"\r\n          animate={{ \r\n            scale: [1, 1.2, 1],\r\n            opacity: [0.3, 0.5, 0.3]\r\n          }}\r\n          transition={{ \r\n            duration: 8,\r\n            repeat: Infinity,\r\n            ease: \"easeInOut\"\r\n          }}\r\n        />\r\n        <motion.div \r\n          className=\"absolute bottom-20 left-20 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl\"\r\n          animate={{ \r\n            scale: [1.2, 1, 1.2],\r\n            opacity: [0.2, 0.4, 0.2]\r\n          }}\r\n          transition={{ \r\n            duration: 10,\r\n            repeat: Infinity,\r\n            ease: \"easeInOut\",\r\n            delay: 1\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Property Info Overlay */}\r\n      {properties.length > 0 && (\r\n        <motion.div \r\n          className=\"absolute bottom-6 left-6 z-20 hidden md:flex flex-col gap-2 bg-white/10 backdrop-blur-md rounded-xl px-4 py-3 border border-white/20 max-w-xs\"\r\n          initial={{ opacity: 0, x: -20 }}\r\n          animate={{ opacity: 1, x: 0 }}\r\n          transition={{ delay: 1 }}\r\n          key={currentImageIndex}\r\n        >\r\n          <div className=\"flex items-center gap-2\">\r\n            <MapPin className=\"h-4 w-4 text-accent\" />\r\n            <span className=\"text-sm font-medium text-primary-foreground/90\">\r\n              {properties[currentImageIndex % properties.length]?.location || 'Featured Property'}\r\n            </span>\r\n          </div>\r\n          <div className=\"text-xs text-primary-foreground/70\">\r\n            {properties[currentImageIndex % properties.length]?.title || 'Premium Real Estate'}\r\n          </div>\r\n          <div className=\"flex items-center gap-1 mt-1\">\r\n            {properties.map((_, index) => (\r\n              <button\r\n                key={index}\r\n                onClick={() => setCurrentImageIndex(index)}\r\n                className={`w-2 h-2 rounded-full transition-all ${\r\n                  index === (currentImageIndex % properties.length)\r\n                    ? 'bg-accent scale-125'\r\n                    : 'bg-white/40 hover:bg-white/60'\r\n                }`}\r\n              />\r\n            ))}\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n\r\n      {/* Floating Trust Badges */}\r\n      {totalProperties >= 300 && (\r\n        <div className=\"absolute top-6 right-6 z-20 hidden md:flex flex-col gap-2\">\r\n          <motion.div \r\n            className=\"flex items-center gap-2 bg-white/10 backdrop-blur-md rounded-full px-4 py-2 border border-white/20\"\r\n            initial={{ opacity: 0, x: 20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.5 }}\r\n          >\r\n            <ShieldCheck className=\"h-4 w-4 text-green-400\" />\r\n            <span className=\"text-xs font-medium text-primary-foreground/90\">\r\n              {totalProperties >= 1000 ? `${Math.floor(totalProperties / 100) * 100}+` : totalProperties.toLocaleString()} Verified Properties\r\n            </span>\r\n          </motion.div>\r\n          <motion.div \r\n            className=\"flex items-center gap-2 bg-white/10 backdrop-blur-md rounded-full px-4 py-2 border border-white/20\"\r\n            initial={{ opacity: 0, x: 20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.7 }}\r\n          >\r\n            <TrendingUp className=\"h-4 w-4 text-yellow-400\" />\r\n            <span className=\"text-xs font-medium text-primary-foreground/90\">\r\n              98% Client Satisfaction\r\n            </span>\r\n          </motion.div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Content */}\r\n      <div className=\"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8 xl:px-20\">\r\n        <div className=\"grid lg:grid-cols-2 gap-12 items-center\">\r\n          {/* Left Column - Text Content */}\r\n          <motion.div \r\n            className=\"text-center lg:text-left\"\r\n            initial={{ opacity: 0, y: 30 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.8 }}\r\n          >\r\n            <motion.span\r\n              className=\"inline-flex items-center gap-2 text-accent font-semibold text-sm tracking-widest uppercase mb-3 px-3 py-1 bg-accent/10 rounded-full\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.2 }}\r\n            >\r\n              <div className=\"w-2 h-2 bg-accent rounded-full animate-pulse\" />\r\n              Julin Real Estate\r\n            </motion.span>\r\n\r\n            <motion.h1\r\n              className=\"font-serif text-3xl sm:text-4xl lg:text-5xl font-bold text-primary-foreground mb-3 leading-tight\"\r\n              initial={{ opacity: 0, y: 18 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.25 }}\r\n            >\r\n              Find verified properties in Kenya\r\n            </motion.h1>\r\n\r\n            <motion.p\r\n              className=\"text-sm sm:text-base text-primary-foreground/90 mb-6 max-w-md lg:max-w-xl leading-relaxed\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ delay: 0.4 }}\r\n            >\r\n              {typed}\r\n              <span className=\"ml-1 inline-block text-accent\" aria-hidden>\r\n                <span className=\"animate-pulse\">â–</span>\r\n              </span>\r\n            </motion.p>\r\n\r\n            {/* Quick Stats */}\r\n            {totalProperties >= 300 && (\r\n              <motion.div \r\n                className=\"flex flex-wrap justify-center lg:justify-start gap-6 mb-10\"\r\n                initial={{ opacity: 0 }}\r\n                animate={{ opacity: 1 }}\r\n                transition={{ delay: 0.5 }}\r\n              >\r\n                <div className=\"text-center lg:text-left\">\r\n                  <div className=\"text-3xl font-bold text-accent\">\r\n                    {totalProperties >= 1000 ? `${Math.floor(totalProperties / 100) * 100}+` : totalProperties.toLocaleString()}\r\n                  </div>\r\n                  <div className=\"text-sm text-primary-foreground/70\">Properties Listed</div>\r\n                </div>\r\n                <div className=\"text-center lg:text-left\">\r\n                  <div className=\"text-3xl font-bold text-accent\">98%</div>\r\n                  <div className=\"text-sm text-primary-foreground/70\">Client Satisfaction</div>\r\n                </div>\r\n                <div className=\"text-center lg:text-left\">\r\n                  <div className=\"text-3xl font-bold text-accent\">24/7</div>\r\n                  <div className=\"text-sm text-primary-foreground/70\">Support Available</div>\r\n                </div>\r\n              </motion.div>\r\n            )}\r\n\r\n            {/* Call to Action Buttons */}\r\n            <motion.div\r\n              className=\"flex flex-col sm:flex-row gap-3 justify-center lg:justify-start mb-6\"\r\n              initial={{ opacity: 0, y: 20 }}\r\n              animate={{ opacity: 1, y: 0 }}\r\n              transition={{ delay: 0.6 }}\r\n            >\r\n              <Link to=\"/properties\" className=\"flex-1 sm:flex-initial\">\r\n                <Button \r\n                  variant=\"hero\" \r\n                  size={isMobile ? \"md\" : \"lg\"}\r\n                  className=\"w-full sm:w-auto group\"\r\n                >\r\n                  <Search className=\"h-5 w-5 mr-2 group-hover:rotate-12 transition-transform\" />\r\n                  Browse Properties\r\n                  <ArrowRight className=\"h-5 w-5 ml-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-1 transition-all\" />\r\n                </Button>\r\n              </Link>\r\n\r\n              <Button\r\n                variant=\"heroOutline\"\r\n                size={isMobile ? \"md\" : \"lg\"}\r\n                className=\"group\"\r\n                onClick={scrollToSearch}\r\n              >\r\n                <Filter className=\"h-4 w-4 mr-2\" />\r\n                Advanced Search\r\n              </Button>\r\n            </motion.div>\r\n          </motion.div>\r\n\r\n          {/* Right Column - Search Form */}\r\n          <motion.div \r\n            id=\"search-section\"\r\n            className=\"bg-white/10 backdrop-blur-xl rounded-2xl p-6 lg:p-8 shadow-2xl border border-white/20\"\r\n            initial={{ opacity: 0, scale: 0.95 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ delay: 0.7 }}\r\n            whileHover={{ y: -5 }}\r\n          >\r\n            <div className=\"mb-8\">\r\n              <h2 className=\"text-2xl font-bold text-primary-foreground mb-2\">\r\n                Find Your Dream Property\r\n              </h2>\r\n              <p className=\"text-primary-foreground/70\">\r\n                Search through our verified listings with advanced filters\r\n              </p>\r\n            </div>\r\n\r\n            <form onSubmit={handleSearch} className=\"space-y-6\">\r\n              <div className=\"space-y-4\">\r\n                <InputBlock icon={MapPin} label=\"Location\" isActive={activeFilter === \"location\"}>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Nairobi, Mombasa, Kisumu...\"\r\n                    className=\"bg-transparent text-foreground font-medium focus:outline-none w-full py-1 placeholder:text-foreground/50\"\r\n                    onFocus={() => setActiveFilter(\"location\")}\r\n                    onBlur={() => setActiveFilter(\"\")}\r\n                  />\r\n                </InputBlock>\r\n\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                  <InputBlock icon={Home} label=\"Property Type\" isActive={activeFilter === \"type\"}>\r\n                    <select \r\n                      className=\"bg-transparent text-foreground font-medium focus:outline-none w-full py-1\"\r\n                      onFocus={() => setActiveFilter(\"type\")}\r\n                      onBlur={() => setActiveFilter(\"\")}\r\n                    >\r\n                      <option value=\"\">Any Type</option>\r\n                      <option value=\"house\">House</option>\r\n                      <option value=\"apartment\">Apartment</option>\r\n                      <option value=\"land\">Land</option>\r\n                      <option value=\"commercial\">Commercial</option>\r\n                      <option value=\"villa\">Villa</option>\r\n                    </select>\r\n                  </InputBlock>\r\n\r\n                  <InputBlock icon={DollarSign} label=\"Price Range\" isActive={activeFilter === \"price\"}>\r\n                    <select \r\n                      className=\"bg-transparent text-foreground font-medium focus:outline-none w-full py-1\"\r\n                      onFocus={() => setActiveFilter(\"price\")}\r\n                      onBlur={() => setActiveFilter(\"\")}\r\n                    >\r\n                      <option value=\"\">Any Price</option>\r\n                      <option value=\"0-5\">Under KES 5M</option>\r\n                      <option value=\"5-10\">KES 5M - 10M</option>\r\n                      <option value=\"10-20\">KES 10M - 20M</option>\r\n                      <option value=\"20-50\">KES 20M - 50M</option>\r\n                      <option value=\"50+\">Above KES 50M</option>\r\n                    </select>\r\n                  </InputBlock>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Advanced Filters Toggle */}\r\n              <button\r\n                type=\"button\"\r\n                className=\"flex items-center gap-2 text-sm text-primary-foreground/70 hover:text-accent transition-colors\"\r\n                onClick={() => setShowFilters(!showFilters)}\r\n              >\r\n                <Filter className=\"h-4 w-4\" />\r\n                {showFilters ? 'Hide' : 'Show'} Advanced Filters\r\n              </button>\r\n\r\n              {/* Advanced Filters (Collapsible) */}\r\n              <AnimatePresence>\r\n                {showFilters && (\r\n                  <motion.div\r\n                    initial={{ opacity: 0, height: 0 }}\r\n                    animate={{ opacity: 1, height: \"auto\" }}\r\n                    exit={{ opacity: 0, height: 0 }}\r\n                    className=\"space-y-4 overflow-hidden\"\r\n                  >\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                      <InputBlock icon={Home} label=\"Bedrooms\">\r\n                        <select className=\"bg-transparent text-foreground font-medium focus:outline-none w-full py-1\">\r\n                          <option>Any</option>\r\n                          <option>1+</option>\r\n                          <option>2+</option>\r\n                          <option>3+</option>\r\n                          <option>4+</option>\r\n                          <option>5+</option>\r\n                        </select>\r\n                      </InputBlock>\r\n                      <InputBlock icon={Home} label=\"Bathrooms\">\r\n                        <select className=\"bg-transparent text-foreground font-medium focus:outline-none w-full py-1\">\r\n                          <option>Any</option>\r\n                          <option>1+</option>\r\n                          <option>2+</option>\r\n                          <option>3+</option>\r\n                          <option>4+</option>\r\n                        </select>\r\n                      </InputBlock>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                      <InputBlock icon={Home} label=\"Square Feet\">\r\n                        <input \r\n                          type=\"text\" \r\n                          placeholder=\"Min sq ft\" \r\n                          className=\"bg-transparent text-foreground font-medium focus:outline-none w-full py-1 placeholder:text-foreground/50\"\r\n                        />\r\n                      </InputBlock>\r\n                      <InputBlock icon={Home} label=\"Year Built\">\r\n                        <input \r\n                          type=\"text\" \r\n                          placeholder=\"After year\" \r\n                          className=\"bg-transparent text-foreground font-medium focus:outline-none w-full py-1 placeholder:text-foreground/50\"\r\n                        />\r\n                      </InputBlock>\r\n                    </div>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n\r\n              {/* Search Button */}\r\n              <motion.div\r\n                whileHover={{ scale: 1.02 }}\r\n                whileTap={{ scale: 0.98 }}\r\n              >\r\n                <Button \r\n                  type=\"submit\" \r\n                  variant=\"default\" \r\n                  size=\"lg\" \r\n                  className=\"w-full h-14 text-lg font-semibold bg-gradient-to-r from-accent to-blue-600 hover:from-accent/90 hover:to-blue-600/90\"\r\n                >\r\n                  <Search className=\"h-5 w-5 mr-2\" />\r\n                  Search Properties\r\n                  <span className=\"ml-2 opacity-0 group-hover:opacity-100 transition-opacity\">â†’</span>\r\n                </Button>\r\n              </motion.div>\r\n\r\n              {/* Quick Search Tags */}\r\n              <div className=\"pt-4 border-t border-white/10\">\r\n                <p className=\"text-sm text-primary-foreground/70 mb-3\">Popular Searches:</p>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {['Nairobi Apartments', 'Mombasa Beach House', 'Kisumu Land', 'Nakuru Commercial'].map((tag) => (\r\n                    <button\r\n                      key={tag}\r\n                      type=\"button\"\r\n                      className=\"px-3 py-1.5 text-sm bg-white/5 hover:bg-accent/20 rounded-full border border-white/10 hover:border-accent/30 transition-colors\"\r\n                    >\r\n                      {tag}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </motion.div>\r\n        </div>\r\n\r\n        {/* Scroll Indicator */}\r\n        <motion.div \r\n          className=\"absolute bottom-8 left-1/2 transform -translate-x-1/2 hidden md:block\"\r\n          animate={{ y: [0, 10, 0] }}\r\n          transition={{ duration: 2, repeat: Infinity }}\r\n        >\r\n          <div className=\"text-center\">\r\n            <div className=\"text-xs text-primary-foreground/60 mb-2\">Scroll to explore</div>\r\n            <div className=\"w-6 h-10 border-2 border-primary-foreground/30 rounded-full flex justify-center\">\r\n              <div className=\"w-1 h-3 bg-primary-foreground/50 rounded-full mt-2\" />\r\n            </div>\r\n          </div>\r\n        </motion.div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Hero;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2777, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/ui/badge.variants.ts"],"sourcesContent":["import { cva } from \"class-variance-authority\";\r\n\r\nexport const badgeVariants = cva(\r\n  \"inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-muted text-muted-foreground\",\r\n        secondary: \"bg-secondary text-secondary-foreground\",\r\n        destructive: \"bg-destructive text-destructive-foreground\",\r\n        outline: \"border border-input bg-background\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n);"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,gBAAgB,IAAA,uKAAG,EAC9B,6EACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF"}},
    {"offset": {"line": 2800, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\r\nimport { Slot } from \"@radix-ui/react-slot\";\r\nimport { type VariantProps } from \"class-variance-authority\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { badgeVariants } from \"./badge.variants\";\r\n\r\nexport interface BadgeProps\r\n  extends React.HTMLAttributes<HTMLSpanElement>,\r\n    VariantProps<typeof badgeVariants> {\r\n  /**\r\n   * Renders the badge as a child component using Radix Slot\r\n   */\r\n  asChild?: boolean;\r\n}\r\n\r\nconst Badge = React.forwardRef<HTMLSpanElement, BadgeProps>(\r\n  ({ className, variant, asChild = false, ...props }, ref) => {\r\n    const Component = asChild ? Slot : \"span\";\r\n\r\n    return (\r\n      <Component\r\n        ref={ref}\r\n        className={cn(badgeVariants({ variant }), className)}\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\n\r\nBadge.displayName = \"Badge\";\r\n\r\nexport { Badge };\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAGA;AACA;;;;;;AAWA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IAClD,MAAM,YAAY,UAAU,wKAAI,GAAG;IAEnC,qBACE,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,IAAA,wIAAa,EAAC;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;AAGF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 2834, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\r\n  ({ className, type, ...props }, ref) => {\r\n    return (\r\n      <input\r\n        type={type}\r\n        className={cn(\r\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n          className,\r\n        )}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    );\r\n  },\r\n);\r\nInput.displayName = \"Input\";\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 2862, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nexport type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>;\r\n\r\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\r\n  return (\r\n    <textarea\r\n      className={cn(\r\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className,\r\n      )}\r\n      ref={ref}\r\n      {...props}\r\n    />\r\n  );\r\n});\r\nTextarea.displayName = \"Textarea\";\r\n\r\nexport { Textarea };\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAIA,MAAM,yBAAW,mNAAgB,CAAqC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC9F,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 2889, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/integrations/supabase/client.ts"],"sourcesContent":["// This file is automatically generated. Do not edit it directly.\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport type { Database } from './types';\r\n\r\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst SUPABASE_PUBLISHABLE_KEY = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY;\r\n\r\nif (!SUPABASE_URL || !SUPABASE_PUBLISHABLE_KEY) {\r\n  // Helpful runtime warning during development if env vars are missing\r\n  // (don't throw â€” allow server-side tooling to import the file safely)\r\n  console.warn('[supabase] VITE_SUPABASE_URL or VITE_SUPABASE_PUBLISHABLE_KEY is not set. Supabase client may not work.');\r\n}\r\n\r\n// Import the supabase client like this:\r\n// import { supabase } from \"@/integrations/supabase/client\";\r\n\r\n// Guard access to `localStorage` to avoid errors in non-browser environments\r\nconst storage = typeof window !== 'undefined' && typeof window.localStorage !== 'undefined' ? window.localStorage : undefined;\r\n\r\n// If the env vars are missing, avoid calling `createClient` with empty strings (which throws)\r\n// and instead export a lightweight proxy that throws a helpful error when used.\r\nfunction createDisabledClient() {\r\n  const err = new Error('[supabase] VITE_SUPABASE_URL or VITE_SUPABASE_PUBLISHABLE_KEY is not set. Initialize these variables to use Supabase client.');\r\n  const handler: ProxyHandler<Record<string, any>> = {\n    get() {\r\n      throw err;\r\n    },\r\n    apply() {\r\n      throw err;\r\n    },\r\n    construct() {\r\n      throw err;\r\n    }\r\n  };\r\n  return new Proxy({}, handler) as unknown as ReturnType<typeof createClient<Database>>;\r\n}\r\n\r\nexport const supabase = (SUPABASE_URL && SUPABASE_PUBLISHABLE_KEY)\r\n  ? createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {\r\n      auth: {\r\n        storage,\r\n        persistSession: true,\r\n        autoRefreshToken: true,\r\n      }\r\n    })\r\n  : createDisabledClient();\r\n\r\n// Debug helper: optional runtime logging for outgoing requests to Supabase endpoints.\r\n// Enable by setting `localStorage.setItem('debug_supabase', '1')` in the browser, then reload.\r\n// This wrapper only logs when the flag is set to avoid noisy logs in production.\r\ntry {\r\n  if (typeof window !== 'undefined' && typeof window.fetch === 'function') {\r\n    const _w = window as unknown as { fetch: (input: RequestInfo, init?: RequestInit) => Promise<Response> };\r\n    const originalFetch = _w.fetch.bind(_w);\r\n    _w.fetch = async (input: RequestInfo, init?: RequestInit) => {\r\n      try {\r\n        const url = typeof input === 'string' ? input : (input as Request).url;\r\n        const enabled = typeof window.localStorage !== 'undefined' && window.localStorage.getItem('debug_supabase') === '1';\r\n        if (enabled && typeof url === 'string' && url.includes('.supabase.co')) {\r\n          // Mask key when printing\r\n          const maskedKey = SUPABASE_PUBLISHABLE_KEY ? `${String(SUPABASE_PUBLISHABLE_KEY).slice(0, 6)}...` : 'not-set';\r\n          console.groupCollapsed('[supabase-debug] outgoing request to Supabase');\r\n          console.log('URL:', url);\r\n          console.log('Masked publishable key:', maskedKey);\r\n          // Print headers if available\r\n          if (init?.headers) {\r\n            // Normalized printing for Headers / object\r\n            const h = init.headers instanceof Headers ? Object.fromEntries(init.headers.entries()) as Record<string, string> : (init.headers as Record<string, string> | undefined);\r\n            console.log('Request headers:', h);\r\n            console.log('Authorization:', (h && (h['Authorization'] || h['authorization'])) ?? null);\r\n            console.log('apikey:', h ? h['apikey'] ?? null : null);\r\n          }\r\n          console.groupEnd();\r\n        }\r\n      } catch (e) {\r\n        // swallow\r\n      }\r\n      return originalFetch(input, init);\r\n    };\r\n  }\r\n} catch (err) {\r\n  // ignore\r\n}"],"names":[],"mappings":";;;;AAAA,iEAAiE;AACjE;;AAGA,MAAM;AACN,MAAM;AAEN;;AAMA,wCAAwC;AACxC,6DAA6D;AAE7D,6EAA6E;AAC7E,MAAM,UAAU,sCAA8E,0BAAsB;AAEpH,8FAA8F;AAC9F,gFAAgF;AAChF,SAAS;IACP,MAAM,MAAM,IAAI,MAAM;IACtB,MAAM,UAA6C;QACjD;YACE,MAAM;QACR;QACA;YACE,MAAM;QACR;QACA;YACE,MAAM;QACR;IACF;IACA,OAAO,IAAI,MAAM,CAAC,GAAG;AACvB;AAEO,MAAM,WAAW,uCACpB,IAAA,8LAAY,EAAW,cAAc,0BAA0B;IAC7D,MAAM;QACJ;QACA,gBAAgB;QAChB,kBAAkB;IACpB;AACF,KACA;AAEJ,sFAAsF;AACtF,+FAA+F;AAC/F,iFAAiF;AACjF,IAAI;IACF;;AA6BF,EAAE,OAAO,KAAK;AACZ,SAAS;AACX"}},
    {"offset": {"line": 2941, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/lib/whatsapp.ts"],"sourcesContent":["/**\r\n * Formats a phone number into WhatsApp-compatible E.164 format\r\n * Default country: Kenya (+254)\r\n */\r\nexport function formatPhoneForWhatsApp(\r\n  rawPhone?: string | null,\r\n  countryCode = \"254\"\r\n): string | null {\r\n  if (!rawPhone) return null;\r\n\r\n  // Trim & remove everything except digits and +\r\n  let phone = rawPhone.trim().replace(/[^\\d+]/g, \"\");\r\n\r\n  // Remove leading +\r\n  if (phone.startsWith(\"+\")) {\r\n    phone = phone.slice(1);\r\n  }\r\n\r\n  // Convert local Kenyan format (07xx / 01xx) â†’ 2547xx / 2541xx\r\n  if (/^0\\d{9}$/.test(phone)) {\r\n    phone = `${countryCode}${phone.slice(1)}`;\r\n  }\r\n\r\n  // Validate final Kenyan length (254 + 9 digits)\r\n  if (!new RegExp(`^${countryCode}\\\\d{9}$`).test(phone)) {\r\n    return null;\r\n  }\r\n\r\n  return phone;\r\n}\r\n\r\n/**\r\n * Generates a WhatsApp deep link with a prefilled message\r\n */\r\nexport function generateWhatsAppLink(\r\n  phone?: string | null,\r\n  message = \"\"\r\n): string {\r\n  const formattedPhone = formatPhoneForWhatsApp(phone);\r\n  const encodedMessage = encodeURIComponent(message.trim());\r\n\r\n  // Fallback: WhatsApp chat without a number\r\n  if (!formattedPhone) {\r\n    return encodedMessage\r\n      ? `https://wa.me/?text=${encodedMessage}`\r\n      : `https://wa.me/`;\r\n  }\r\n\r\n  return encodedMessage\r\n    ? `https://wa.me/${formattedPhone}?text=${encodedMessage}`\r\n    : `https://wa.me/${formattedPhone}`;\r\n}\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AACM,SAAS,uBACd,QAAwB,EACxB,cAAc,KAAK;IAEnB,IAAI,CAAC,UAAU,OAAO;IAEtB,+CAA+C;IAC/C,IAAI,QAAQ,SAAS,IAAI,GAAG,OAAO,CAAC,WAAW;IAE/C,mBAAmB;IACnB,IAAI,MAAM,UAAU,CAAC,MAAM;QACzB,QAAQ,MAAM,KAAK,CAAC;IACtB;IAEA,8DAA8D;IAC9D,IAAI,WAAW,IAAI,CAAC,QAAQ;QAC1B,QAAQ,GAAG,cAAc,MAAM,KAAK,CAAC,IAAI;IAC3C;IAEA,gDAAgD;IAChD,IAAI,CAAC,IAAI,OAAO,CAAC,CAAC,EAAE,YAAY,OAAO,CAAC,EAAE,IAAI,CAAC,QAAQ;QACrD,OAAO;IACT;IAEA,OAAO;AACT;AAKO,SAAS,qBACd,KAAqB,EACrB,UAAU,EAAE;IAEZ,MAAM,iBAAiB,uBAAuB;IAC9C,MAAM,iBAAiB,mBAAmB,QAAQ,IAAI;IAEtD,2CAA2C;IAC3C,IAAI,CAAC,gBAAgB;QACnB,OAAO,iBACH,CAAC,oBAAoB,EAAE,gBAAgB,GACvC,CAAC,cAAc,CAAC;IACtB;IAEA,OAAO,iBACH,CAAC,cAAc,EAAE,eAAe,MAAM,EAAE,gBAAgB,GACxD,CAAC,cAAc,EAAE,gBAAgB;AACvC"}},
    {"offset": {"line": 2981, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/hooks/use-in-view.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\ntype Options = IntersectionObserverInit;\r\n\r\nexport function useInView<T extends HTMLElement = HTMLElement>(options?: Options) {\r\n  const ref = useRef<T | null>(null);\r\n  const [inView, setInView] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!ref.current) return;\r\n    const node = ref.current;\r\n    const obs = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setInView(true);\r\n            // once visible, we can unobserve for simple reveal behavior\r\n            try { obs.unobserve(entry.target); } catch (e) {}\r\n          }\r\n        });\r\n      },\r\n      options || { threshold: 0.15 }\r\n    );\r\n\r\n    obs.observe(node as Element);\r\n\r\n    return () => obs.disconnect();\r\n  }, [ref, options]);\r\n\r\n  return { ref, inView } as const;\r\n}\r\n\r\nexport default useInView;\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAIO,SAAS,UAA+C,OAAiB;IAC9E,MAAM,MAAM,IAAA,+MAAM,EAAW;IAC7B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,IAAI,OAAO,EAAE;QAClB,MAAM,OAAO,IAAI,OAAO;QACxB,MAAM,MAAM,IAAI,qBACd,CAAC;YACC,QAAQ,OAAO,CAAC,CAAC;gBACf,IAAI,MAAM,cAAc,EAAE;oBACxB,UAAU;oBACV,4DAA4D;oBAC5D,IAAI;wBAAE,IAAI,SAAS,CAAC,MAAM,MAAM;oBAAG,EAAE,OAAO,GAAG,CAAC;gBAClD;YACF;QACF,GACA,WAAW;YAAE,WAAW;QAAK;QAG/B,IAAI,OAAO,CAAC;QAEZ,OAAO,IAAM,IAAI,UAAU;IAC7B,GAAG;QAAC;QAAK;KAAQ;IAEjB,OAAO;QAAE;QAAK;IAAO;AACvB;uCAEe"}},
    {"offset": {"line": 3024, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/components/property/PropertyCard.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  MapPin,\r\n  Maximize,\r\n  Phone,\r\n  Play,\r\n  Image as ImageIcon,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n} from \"lucide-react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n  DialogTrigger,\r\n} from \"@/components/ui/dialog\";\r\n\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { toast } from \"@/hooks/use-toast\";\r\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { generateWhatsAppLink } from \"@/lib/whatsapp\";\r\nimport type { Property } from \"@/types/property\";\r\nimport useInView from \"@/hooks/use-in-view\";\r\n\r\ninterface PropertyCardProps {\r\n  property: Property;\r\n  delay?: number;\r\n}\r\n\r\nconst PropertyCard: React.FC<PropertyCardProps> = ({ property }) => {\r\n  const reveal = useInView<HTMLDivElement>();\r\n  const {\r\n    id,\r\n    title,\r\n    location,\r\n    price,\r\n    size,\r\n    description,\r\n    seller_phone,\r\n    images = [],\r\n    video_url,\r\n    status,\r\n  } = property;\r\n\r\n  const queryClient = useQueryClient();\r\n\r\n  // Inquiry dialog & form state\r\n  const [inquiryOpen, setInquiryOpen] = useState(false);\r\n  const [buyerName, setBuyerName] = useState(\"\");\r\n  const [buyerPhone, setBuyerPhone] = useState(\"\");\r\n  const [message, setMessage] = useState(`I'm interested in ${title}. Kindly share more details.`);\r\n\r\n  const inquiryMutation = useMutation({\r\n    mutationFn: async (payload: { property_id: string; buyer_name: string; buyer_phone: string; message: string }) => {\r\n      const { error } = await supabase.from(\"buyer_inquiries\").insert([payload]);\r\n      if (error) throw error;\r\n      return payload;\r\n    },\r\n    onSuccess: (vars) => {\r\n      const waLink = generateWhatsAppLink(seller_phone || \"\", vars.message);\r\n      setInquiryOpen(false);\r\n      queryClient.invalidateQueries({ queryKey: [\"properties\"] });\r\n      window.open(waLink, \"_blank\");\r\n    },\r\n    onError: (err: Error) => {\r\n      console.error(err);\r\n      toast({ title: \"Error\", description: err?.message || \"Failed to record inquiry.\", variant: \"destructive\" });\r\n    },\r\n  });\r\n\r\n  const handleContact = (e?: React.MouseEvent) => {\r\n    e?.preventDefault();\r\n    e?.stopPropagation();\r\n    if (!buyerName || !buyerPhone) {\r\n      toast({ title: \"Missing info\", description: \"Please provide your name and phone number.\", variant: \"destructive\" });\r\n      return;\r\n    }\r\n    inquiryMutation.mutate({ property_id: id, buyer_name: buyerName, buyer_phone: buyerPhone, message });\r\n  };\r\n\r\n  // Lightbox / gallery\r\n  const gallery = images || [];\r\n  const [lightboxOpen, setLightboxOpen] = useState(false);\r\n  const [index, setIndex] = useState(0);\r\n  const openLightboxAt = useCallback((i: number, e?: React.MouseEvent) => {\r\n    e?.preventDefault();\r\n    e?.stopPropagation();\r\n    setIndex(i);\r\n    setLightboxOpen(true);\r\n  }, []);\r\n\r\n  const prev = useCallback((e?: React.MouseEvent) => {\r\n    e?.stopPropagation();\r\n    setIndex((p) => (p - 1 + gallery.length) % Math.max(1, gallery.length));\r\n  }, [gallery.length]);\r\n\r\n  const next = useCallback((e?: React.MouseEvent) => {\r\n    e?.stopPropagation();\r\n    setIndex((p) => (p + 1) % Math.max(1, gallery.length));\r\n  }, [gallery.length]);\r\n\r\n  useEffect(() => {\r\n    if (!lightboxOpen) return;\r\n    const onKey = (ev: KeyboardEvent) => {\r\n      if (ev.key === \"ArrowLeft\") prev();\r\n      if (ev.key === \"ArrowRight\") next();\r\n      if (ev.key === \"Escape\") setLightboxOpen(false);\r\n    };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [lightboxOpen, gallery.length, prev, next]);\r\n\r\n  const statusLabel = status === \"available\" ? \"For Sale\" : status === \"sold\" ? \"Sold\" : status === \"pending\" ? \"Pending\" : String(status);\r\n\r\n  return (\r\n    <Link to={`/property/${id}`} className=\"block\" aria-label={`View details for ${title}`}>\r\n      <article\r\n        ref={reveal.ref as React.RefObject<HTMLElement>}\r\n        style={{ transitionDelay: `${(property as any).__delay ?? 0}ms` }}\r\n        className={`group bg-card rounded-2xl overflow-hidden shadow-card hover:shadow-card-hover transition-all duration-300 hover:-translate-y-1 ${\r\n          reveal.inView ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-6'\r\n        }`}\r\n      >\r\n        {/* Image */}\r\n        <div className=\"relative h-64 overflow-hidden\">\r\n          <button\r\n            onClick={(e) => openLightboxAt(0, e)}\r\n            className=\"block w-full h-full p-0 border-0 bg-transparent cursor-zoom-in\"\r\n            aria-label={`Open gallery for ${title}`}\r\n            title=\"Open gallery\"\r\n          >\r\n            <img\r\n              src={gallery[0] || \"/placeholder.svg\"}\r\n              alt={title}\r\n              className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500\"\r\n            />\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-navy/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\r\n          </button>\r\n\r\n          {/* Status */}\r\n          <Badge\r\n            className={`absolute top-4 left-4 ${\r\n              statusLabel === \"For Sale\"\r\n                ? \"bg-primary text-primary-foreground\"\r\n                : statusLabel === \"Sold\"\r\n                ? \"bg-destructive text-destructive-foreground\"\r\n                : \"bg-muted text-muted-foreground\"\r\n            }`}\r\n            aria-hidden\r\n          >\r\n            {statusLabel}\r\n          </Badge>\r\n\r\n          {/* Media indicators */}\r\n          <div className=\"absolute bottom-4 left-4 flex gap-2\">\r\n            <span className=\"flex items-center gap-1 bg-navy/80 text-primary-foreground text-xs px-2 py-1 rounded\">\r\n              <ImageIcon className=\"h-3 w-3\" />\r\n              {gallery.length}\r\n            </span>\r\n            {video_url && (\r\n              <span className=\"flex items-center gap-1 bg-accent/90 text-accent-foreground text-xs px-2 py-1 rounded\">\r\n                <Play className=\"h-3 w-3\" />\r\n                Video\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"p-6\">\r\n          <h3 className=\"font-display text-xl font-semibold text-foreground mb-2 line-clamp-1\">\r\n            {title}\r\n          </h3>\r\n\r\n          <div className=\"flex items-center gap-2 text-muted-foreground mb-4\">\r\n            <MapPin className=\"h-4 w-4 text-primary\" />\r\n            <span className=\"text-sm\">{location}</span>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4 mb-4\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Maximize className=\"h-4 w-4 text-primary\" />\r\n              <span className=\"text-sm text-muted-foreground\">{size}</span>\r\n            </div>\r\n          </div>\r\n\r\n          <p className=\"text-sm text-muted-foreground mb-4 line-clamp-2\">{description}</p>\r\n\r\n          <div className=\"border-t border-border pt-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-xs text-muted-foreground\">Price</p>\r\n                <p className=\"font-display text-2xl font-bold text-primary\">{`KES ${Number(price).toLocaleString()}`}</p>\r\n              </div>\r\n\r\n              <div className=\"flex gap-2\">\r\n                <Button variant=\"ghost\" size=\"sm\" asChild>\r\n                  <a\r\n                    href={`tel:${seller_phone}`}\r\n                    className=\"flex items-center gap-2\"\r\n                    onClick={(e) => e.stopPropagation()}\r\n                    aria-label={`Call seller of ${title}`}\r\n                  >\r\n                    <Phone className=\"h-4 w-4\" />\r\n                    Call\r\n                  </a>\r\n                </Button>\r\n\r\n                <Dialog open={inquiryOpen} onOpenChange={setInquiryOpen}>\r\n                  <DialogTrigger asChild>\r\n                    <Button size=\"sm\" onClick={(e) => (e.stopPropagation(), setInquiryOpen(true))}>Inquire</Button>\r\n                  </DialogTrigger>\r\n\r\n                  <DialogContent onClick={(e) => e.stopPropagation()}>\r\n                    <DialogHeader>\r\n                      <DialogTitle>Contact Seller</DialogTitle>\r\n                    </DialogHeader>\r\n\r\n                    <div className=\"grid gap-2\">\r\n                      <Input placeholder=\"Your name\" value={buyerName} onChange={(e) => setBuyerName(e.target.value)} />\r\n                      <Input placeholder=\"Your phone (e.g. 07xxxxxxxx)\" value={buyerPhone} onChange={(e) => setBuyerPhone(e.target.value)} />\r\n                      <Textarea value={message} onChange={(e) => setMessage(e.target.value)} />\r\n                    </div>\r\n\r\n                    <DialogFooter>\r\n                      <div className=\"flex gap-2\">\r\n                        <Button variant=\"outline\" onClick={(e) => { e.stopPropagation(); setInquiryOpen(false); }}>Cancel</Button>\r\n                        <Button onClick={handleContact} disabled={inquiryMutation.isPending}>\r\n                          {inquiryMutation.isPending ? \"Sendingâ€¦\" : \"Send & WhatsApp\"}\r\n                        </Button>\r\n                      </div>\r\n                    </DialogFooter>\r\n                  </DialogContent>\r\n                </Dialog>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </article>\r\n\r\n      {/* Lightbox dialog */}\r\n      <Dialog open={lightboxOpen} onOpenChange={setLightboxOpen}>\r\n        <DialogContent onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"flex flex-col items-center gap-4\">\r\n            <div className=\"relative w-full max-w-3xl\">\r\n              {gallery.length > 0 ? (\r\n                <>\r\n                  <img src={gallery[index]} alt={`${title} (${index + 1}/${gallery.length})`} className=\"w-full h-[480px] object-cover rounded\" />\r\n                  <button aria-label=\"Previous image\" className=\"absolute left-2 top-1/2 -translate-y-1/2 p-2 bg-black/40 rounded\" onClick={prev}>\r\n                    <ChevronLeft className=\"h-5 w-5 text-white\" />\r\n                  </button>\r\n                  <button aria-label=\"Next image\" className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-black/40 rounded\" onClick={next}>\r\n                    <ChevronRight className=\"h-5 w-5 text-white\" />\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <div className=\"w-full h-64 bg-muted rounded flex items-center justify-center\">\r\n                  <ImageIcon />\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Thumbnails */}\r\n            {gallery.length > 1 && (\r\n              <div className=\"flex gap-2 overflow-x-auto mt-2\">\r\n                {gallery.map((g, i) => (\r\n                  <button\r\n                    key={g + i}\r\n                    onClick={(e) => { e.stopPropagation(); setIndex(i); }}\r\n                    className={`w-20 h-12 rounded overflow-hidden border ${i === index ? \"ring-2 ring-primary\" : \"border-border\"}`}\r\n                    aria-label={`Show image ${i + 1}`}\r\n                  >\r\n                    <img src={g} alt={`thumb-${i}`} className=\"w-full h-full object-cover\" />\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default PropertyCard;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3666, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/components/property/Properties.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PropertyCard from \"./PropertyCard\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ArrowRight } from \"lucide-react\";\r\n\r\nimport type { Property } from '@/types/property';\r\n\r\ntype ExtendedProperty = Property & { _firstImage?: string };\r\n\r\nconst Properties = () => {\r\n  const [properties, setProperties] = useState<ExtendedProperty[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const fetchProperties = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"properties\")\r\n        .select(\"*\")\r\n        .eq(\"status\", \"available\")\r\n        .order(\"created_at\", { ascending: false })\r\n        .limit(6);\r\n\r\n      if (error) throw error;\r\n\r\n      const rows = (data || []) as Property[];\r\n\r\n      // Resolve first image public URLs where needed\r\n      const resolved: ExtendedProperty[] = rows.map((p) => {\r\n        const images = p.images || [];\r\n        const firstImage = images[0] || undefined;\r\n        return { ...p, _firstImage: firstImage };\r\n      });\r\n\r\n      setProperties(resolved);\r\n    } catch (err: unknown) {\r\n      console.error(err);\r\n      const message = err instanceof Error ? err.message : String(err);\r\n      setError(message || \"Failed to load properties\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProperties();\r\n\r\n    // Set up real-time subscription for properties\r\n    const channel = supabase\r\n      .channel(\"properties-realtime\")\r\n      .on(\r\n        \"postgres_changes\",\r\n        {\r\n          event: \"*\",\r\n          schema: \"public\",\r\n          table: \"properties\",\r\n        },\r\n        (payload) => {\r\n          console.log(\"Real-time update:\", payload);\r\n          // Refetch properties on any change\r\n          fetchProperties();\r\n        }\r\n      )\r\n      .subscribe();\r\n\r\n    return () => {\r\n      supabase.removeChannel(channel);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <section id=\"properties\" className=\"py-20 bg-secondary\">\r\n      <div className=\"container mx-auto px-4\">\r\n        <div className=\"text-center mb-12\">\r\n          <span className=\"inline-block text-primary font-semibold text-sm uppercase tracking-widest mb-4\">\r\n            Featured Listings\r\n          </span>\r\n          <h2 className=\"font-display text-3xl md:text-4xl font-bold text-foreground mb-4\">\r\n            Discover Our Properties\r\n          </h2>\r\n          <p className=\"text-muted-foreground max-w-2xl mx-auto\">\r\n            Explore verified properties. Click on a property to view details or contact the seller directly.\r\n          </p>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"flex justify-center py-12\">\r\n            <div className=\"animate-spin h-10 w-10 border-4 border-primary border-t-transparent rounded-full\"></div>\r\n          </div>\r\n        ) : error ? (\r\n          <p className=\"text-center text-red-500\">{error}</p>\r\n        ) : properties.length === 0 ? (\r\n          <p className=\"text-center text-muted-foreground\">No properties available right now.</p>\r\n        ) : (\r\n          <>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n              {properties.map((property, index) => (\r\n                <div key={property.id} className=\"animate-slide-up\" style={{ animationDelay: `${index * 0.05}s` }}>\r\n                  <PropertyCard\r\n                    id={property.id}\r\n                    title={property.title}\r\n                    location={property.location}\r\n                    price={`KES ${Number(property.price).toLocaleString()}`}\r\n                    size={property.size || \"-\"}\r\n                    details={property.description || \"\"}\r\n                    phone={property.seller_phone || \"+254725671504\"}\r\n                    hasVideo={!!property.video_url}\r\n                    image={property._firstImage}\r\n                    imageCount={(property.images || []).length}\r\n                    status={property.status === \"available\" ? \"For Sale\" : (property.status || \"Available\")}\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"text-center mt-12\">\r\n              <Button asChild size=\"lg\">\r\n                <Link to=\"/properties\" className=\"inline-flex items-center gap-2\">\r\n                  View All Properties\r\n                  <ArrowRight size={18} />\r\n                </Link>\r\n              </Button>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Properties;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3885, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/components/Footer.tsx"],"sourcesContent":["import {\r\n  Phone,\r\n  Mail,\r\n  MapPin,\r\n  MessageCircle,\r\n  Facebook,\r\n  Instagram,\r\n  Linkedin,\r\n} from \"lucide-react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst FooterLight = () => {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className=\"bg-slate-50 text-slate-700 mt-20 border-t\">\r\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-20 py-12\">\r\n        <div className=\"grid grid-cols-1 gap-10 md:grid-cols-3\">\r\n          {/* Brand */}\r\n          <div className=\"text-center md:text-left\">\r\n              <div className=\"flex justify-center md:justify-start items-center gap-3 mb-4\">\r\n              <img\r\n                src={import.meta.env.BASE_URL + 'logo.png'}\r\n                alt=\"Julin Real Estate logo\"\r\n                className=\"h-16 md:h-20 lg:h-24 w-auto object-contain\"\r\n              />\r\n            </div>\r\n\r\n            <p className=\"text-sm leading-relaxed text-slate-600 max-w-sm mx-auto md:mx-0\">\r\n              Premium real estate services. Connecting buyers and sellers across\r\n              Kenya with trust, transparency, and excellence.\r\n            </p>\r\n\r\n            {/* Social Icons */}\r\n            <div className=\"flex justify-center md:justify-start gap-4 mt-5\">\r\n              <a\r\n                href=\"#\"\r\n                aria-label=\"Facebook\"\r\n                className=\"p-2 rounded-full bg-white shadow hover:text-accent transition\"\r\n              >\r\n                <Facebook className=\"h-4 w-4\" />\r\n              </a>\r\n              <a\r\n                href=\"#\"\r\n                aria-label=\"Instagram\"\r\n                className=\"p-2 rounded-full bg-white shadow hover:text-accent transition\"\r\n              >\r\n                <Instagram className=\"h-4 w-4\" />\r\n              </a>\r\n              <a\r\n                href=\"#\"\r\n                aria-label=\"LinkedIn\"\r\n                className=\"p-2 rounded-full bg-white shadow hover:text-accent transition\"\r\n              >\r\n                <Linkedin className=\"h-4 w-4\" />\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Quick Links */}\r\n          <div className=\"text-center md:text-left\">\r\n            <h4 className=\"font-semibold text-base mb-4\">Quick Links</h4>\r\n            <ul className=\"space-y-2 text-sm\">\r\n              {[\r\n                { name: \"Home\", href: \"/\" },\r\n                { name: \"Properties\", href: \"/properties\" },\r\n                { name: \"About Us\", href: \"/about\" },\r\n                { name: \"Contact\", href: \"/contact\" },\r\n              ].map((link) => (\r\n                <li key={link.name}>\r\n                  <Link\r\n                    to={link.href}\r\n                    className=\"hover:text-accent transition-colors\"\r\n                  >\r\n                    {link.name}\r\n                  </Link>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          {/* Contact */}\r\n          <div className=\"text-center md:text-left\">\r\n            <h4 className=\"font-semibold text-base mb-4\">Contact</h4>\r\n            <ul className=\"space-y-3 text-sm\">\r\n              <li className=\"flex justify-center md:justify-start items-center gap-3\">\r\n                <Phone className=\"h-4 w-4 text-accent\" />\r\n                <a href=\"tel:+254725671504\" className=\"hover:text-accent\">\r\n                  +254 725 671 504\r\n                </a>\r\n              </li>\r\n\r\n              <li className=\"flex justify-center md:justify-start items-center gap-3\">\r\n                <MessageCircle className=\"h-4 w-4 text-accent\" />\r\n                <a\r\n                  href=\"https://wa.me/254725671504\"\r\n                  target=\"_blank\"\r\n                  rel=\"noopener noreferrer\"\r\n                  className=\"hover:text-accent\"\r\n                >\r\n                  WhatsApp\r\n                </a>\r\n              </li>\r\n\r\n              <li className=\"flex justify-center md:justify-start items-center gap-3\">\r\n                <Mail className=\"h-4 w-4 text-accent\" />\r\n                <a\r\n                  href=\"mailto:juliusmurigi90@gmail.com\"\r\n                  className=\"hover:text-accent break-all\"\r\n                >\r\n                  juliusmurigi90@gmail.com\r\n                </a>\r\n              </li>\r\n\r\n              <li className=\"flex justify-center md:justify-start items-center gap-3\">\r\n                <MapPin className=\"h-4 w-4 text-accent\" />\r\n                <span>Nairobi, Kenya</span>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Bottom */}\r\n        <div className=\"mt-10 pt-6 border-t text-center text-xs text-slate-500\">\r\n          Â© {currentYear} Julin Real Estate. All rights reserved.\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default FooterLight;\r\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;;;;;;AAEA,MAAM,cAAc;IAClB,MAAM,cAAc,IAAI,OAAO,WAAW;IAE1C,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;8CACf,cAAA,8OAAC;wCACC,KAAK,8BAAY,GAAG,CAAC,QAAQ,GAAG;wCAChC,KAAI;wCACJ,WAAU;;;;;;;;;;;8CAId,8OAAC;oCAAE,WAAU;8CAAkE;;;;;;8CAM/E,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,MAAK;4CACL,cAAW;4CACX,WAAU;sDAEV,cAAA,8OAAC,sNAAQ;gDAAC,WAAU;;;;;;;;;;;sDAEtB,8OAAC;4CACC,MAAK;4CACL,cAAW;4CACX,WAAU;sDAEV,cAAA,8OAAC,yNAAS;gDAAC,WAAU;;;;;;;;;;;sDAEvB,8OAAC;4CACC,MAAK;4CACL,cAAW;4CACX,WAAU;sDAEV,cAAA,8OAAC,sNAAQ;gDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;sCAM1B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAA+B;;;;;;8CAC7C,8OAAC;oCAAG,WAAU;8CACX;wCACC;4CAAE,MAAM;4CAAQ,MAAM;wCAAI;wCAC1B;4CAAE,MAAM;4CAAc,MAAM;wCAAc;wCAC1C;4CAAE,MAAM;4CAAY,MAAM;wCAAS;wCACnC;4CAAE,MAAM;4CAAW,MAAM;wCAAW;qCACrC,CAAC,GAAG,CAAC,CAAC,qBACL,8OAAC;sDACC,cAAA,8OAAC,+JAAI;gDACH,IAAI,KAAK,IAAI;gDACb,WAAU;0DAET,KAAK,IAAI;;;;;;2CALL,KAAK,IAAI;;;;;;;;;;;;;;;;sCAaxB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAA+B;;;;;;8CAC7C,8OAAC;oCAAG,WAAU;;sDACZ,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC,6MAAK;oDAAC,WAAU;;;;;;8DACjB,8OAAC;oDAAE,MAAK;oDAAoB,WAAU;8DAAoB;;;;;;;;;;;;sDAK5D,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC,yOAAa;oDAAC,WAAU;;;;;;8DACzB,8OAAC;oDACC,MAAK;oDACL,QAAO;oDACP,KAAI;oDACJ,WAAU;8DACX;;;;;;;;;;;;sDAKH,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC,0MAAI;oDAAC,WAAU;;;;;;8DAChB,8OAAC;oDACC,MAAK;oDACL,WAAU;8DACX;;;;;;;;;;;;sDAKH,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC,oNAAM;oDAAC,WAAU;;;;;;8DAClB,8OAAC;8DAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAOd,8OAAC;oBAAI,WAAU;;wBAAyD;wBACnE;wBAAY;;;;;;;;;;;;;;;;;;AAKzB;uCAEe"}},
    {"offset": {"line": 4223, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/ui/Reveal.tsx"],"sourcesContent":["import { PropsWithChildren, useRef } from \"react\";\r\nimport { motion, useInView } from \"framer-motion\";\r\n\r\ntype RevealProps = PropsWithChildren<{ className?: string; delay?: number }>;\r\n\r\nexport default function Reveal({ children, className = \"\", delay = 0 }: RevealProps) {\r\n  const ref = useRef<HTMLDivElement | null>(null);\r\n  const inView = useInView(ref, { once: true, margin: \"-80px\" });\r\n\r\n  return (\r\n    <motion.div\r\n      ref={ref}\r\n      initial={{ opacity: 0, y: 18 }}\r\n      animate={inView ? { opacity: 1, y: 0 } : {}}\r\n      transition={{ duration: 0.6, delay }}\r\n      className={className}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;;;;AAIe,SAAS,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,EAAE,QAAQ,CAAC,EAAe;IACjF,MAAM,MAAM,IAAA,+MAAM,EAAwB;IAC1C,MAAM,SAAS,IAAA,0LAAS,EAAC,KAAK;QAAE,MAAM;QAAM,QAAQ;IAAQ;IAE5D,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,KAAK;QACL,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE,IAAI,CAAC;QAC1C,YAAY;YAAE,UAAU;YAAK;QAAM;QACnC,WAAW;kBAEV;;;;;;AAGP"}},
    {"offset": {"line": 4266, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ndung/julin-real-estate-hub/app/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { Helmet } from \"react-helmet-async\";\r\nimport Navbar from \"@/components/Navbar\";\r\nimport Hero from \"@/components/Hero\";\r\nimport Properties from \"@/components/property/Properties\";\r\nimport About from \"@/components/About\";\r\nimport Contact from \"@/components/Contact\";\r\nimport Footer from \"@/components/Footer\";\r\nimport Reveal from \"@/components/ui/Reveal\";\r\n\r\nexport default function Page() {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Julin Real Estate | Buy & Sell Properties in Kenya</title>\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Julin Real Estate connects buyers and sellers of real estate properties in Kenya. Find your dream home or list your property today.\"\r\n        />\r\n      </Helmet>\r\n      <div className=\"min-h-screen\">\r\n        <Navbar />\r\n        <main className=\"pt-28\">\r\n          <Reveal>\r\n            <Hero />\r\n          </Reveal>\r\n\r\n          <section className=\"container mx-auto px-4\">\r\n            <Reveal>\r\n              <Properties />\r\n            </Reveal>\r\n          </section>\r\n        </main>\r\n        <Footer />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AAGA;AACA;AARA;;;;;;;;AAUe,SAAS;IACtB,qBACE;;0BACE,8OAAC;;kCACC,8OAAC;kCAAM;;;;;;kCACP,8OAAC;wBACC,MAAK;wBACL,SAAQ;;;;;;;;;;;;0BAGZ,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,gIAAM;;;;;kCACP,8OAAC;wBAAK,WAAU;;0CACd,8OAAC,wHAAM;0CACL,cAAA,8OAAC,8HAAI;;;;;;;;;;0CAGP,8OAAC;gCAAQ,WAAU;0CACjB,cAAA,8OAAC,wHAAM;8CACL,cAAA,8OAAC,gJAAU;;;;;;;;;;;;;;;;;;;;;kCAIjB,8OAAC,gIAAM;;;;;;;;;;;;;AAIf"}}]
}